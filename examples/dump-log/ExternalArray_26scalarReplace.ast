AST dump for ExternalArray after pass scalarReplace.
Module use list: ChapelStandard CTypes HaltWrappers 

{
  function chpl__init_ExternalArray[468546]() : void[4] "insert line file info" "module init" "resolved"
  {
    (629019 return _void[46])
  }
  type chpl_opaque_array[286522] val _pid[286505]:int(64)[10] val _instance[286510]:c_ptr(void)[1465614] const-val _unowned[286517]:bool[19]
  function chpl_call_free_func[286601](const in arg func[286606]:c_ptr(void)[1465614], const in arg elts[286612]:c_ptr(void)[1465614]) : void[4] "extern" "local args" "no fn body" "resolved"
  {
  }
  function cleanupOpaqueArray[287537](const  ref arg arr[287540]:chpl_opaque_array[286522]) : void[4] "export" "local args" "resolved" "no return value for void"
  {
    const-ref call_tmp[919419]:c_ptr(void)[1465614] "dead after last mention" "maybe param" "reference to a const" "temp"
    ref call_tmp[7635757]:c_ptr(void)[1465614] "dead after last mention" "maybe param" "temp"
    (7635759 'move' call_tmp[7635757](7635761 '.' arr[287540] _instance[286510]))
    (919422 'move' call_tmp[919419] call_tmp[7635757])
    val call_tmp[919424]:BaseArr[272224] "dead after last mention" "maybe param" "temp"
    val coerce_tmp[3881999]:c_ptr(void)[1465614] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
    (3882003 'move' coerce_tmp[3881999](3882001 'deref' call_tmp[919419]))
    val call_tmp[8585281]:BaseArr[272224] "dead after last mention" "expr temp" "maybe param" "temp"
    (8585283 'move' call_tmp[8585281](8585285 'cast' BaseArr[272224] coerce_tmp[3881999]))
    (919427 'move' call_tmp[919424] call_tmp[8585281])
    val cleanup[287545]:BaseArr[272224] "dead at end of block" "insert auto destroy"
    (652640 'move' cleanup[287545] call_tmp[919424])
    const-val call_tmp[919429]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
    val ret[7824004]:bool[19] "dead after last mention" "RVV" "temp"
    val coerce_tmp[7824006]:RootClass[236] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
    (7824008 'move' coerce_tmp[7824006](7824010 'cast' RootClass[236] cleanup[287545]))
    const-val call_tmp[7824013]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
    (7824015 'move' call_tmp[7824013](7824017 '!=' coerce_tmp[7824006] nil[32]))
    (7824020 '=' ret[7824004] call_tmp[7824013])
    (919432 'move' call_tmp[919429] ret[7824004])
    if call_tmp[919429]
    {
      const-ref call_tmp[919436]:bool[19] "dead after last mention" "maybe param" "reference to a const" "temp"
      ref call_tmp[7635771]:bool[19] "dead after last mention" "maybe param" "temp"
      (7635773 'move' call_tmp[7635771](7635775 '.' arr[287540] _unowned[286517]))
      (919439 'move' call_tmp[919436] call_tmp[7635771])
      val call_tmp[919441]:BaseArr[272224] "dead after last mention" "expr temp" "maybe param" "temp"
      (919444 'move' call_tmp[919441] cleanup[287545])
      const-val coerce_tmp[3882606]:bool[19] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
      (3882610 'move' coerce_tmp[3882606](3882608 'deref' call_tmp[919436]))
      val default_arg_deinitElts[3882631]:bool[19] "dead after last mention" "default actual temp" "expr temp" "maybe param" "maybe type" "suppress lvalue error" "temp"
      val inlineImm[8585307]:bool[19] "temp"
      (8585310 'move' inlineImm[8585307] 1)
      const-val call_tmp[8585313]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
      (8585315 'move' call_tmp[8585313](8585317 'u!' coerce_tmp[3882606]))
      if call_tmp[8585313]
      {
        const-val call_tmp[8585321]:(borrowed BaseArr,unmanaged BaseDom?)[2122846] "dead after last mention" "maybe param" "temp"
        const-val ret_tmp[8585323]:(borrowed BaseArr,unmanaged BaseDom?)[2122846] "temp"
        (8585326 call remove[2121928] call_tmp[919441] ret_tmp[8585323])
        (8585329 'move' call_tmp[8585321] ret_tmp[8585323])
        val tmp_x0[9003613]:BaseArr[272224] "temp"
        val tmp_x1[9003615]:BaseDom[269761] "temp"
        (9003621 'move' tmp_x0[9003613](9003619 '.v' call_tmp[8585321] x0[2122842]))
        (9003626 'move' tmp_x1[9003615](9003624 '.v' call_tmp[8585321] x1[2122844]))
        val arrToFree[8585337]:BaseArr[272224] "dead at end of block" "insert auto destroy"
        val coerce_tmp[8585339]:BaseArr[272224] "dead after last mention" "coerce temp" "temp"
        (8585341 'move' coerce_tmp[8585339] tmp_x0[9003613])
        (8585346 'move' arrToFree[8585337] coerce_tmp[8585339])
        val domToRemove[8585349]:BaseDom[269761] "dead at end of block"
        val coerce_tmp[8585351]:BaseDom[269761] "dead after last mention" "coerce temp" "temp"
        (8585353 'move' coerce_tmp[8585351] tmp_x1[9003615])
        (8585358 'move' domToRemove[8585349] coerce_tmp[8585351])
        val domToFree[8585361]:BaseDom[269761] "dead at end of block" "insert auto destroy"
        val init_coerce_tmp[8585363]:BaseDom[269761] "dead at end of block" "temp"
        (8585365 '=' init_coerce_tmp[8585363](8585367 'cast' BaseDom[269761] nil[32]))
        (8585370 'move' domToFree[8585361] init_coerce_tmp[8585363])
        val distToRemove[8585373]:BaseDist[268671] "dead at end of block" "insert auto destroy"
        val init_coerce_tmp[8585375]:BaseDist[268671] "dead at end of block" "temp"
        (8585377 '=' init_coerce_tmp[8585375](8585379 'cast' BaseDist[268671] nil[32]))
        (8585382 'move' distToRemove[8585373] init_coerce_tmp[8585375])
        val distToFree[8585385]:BaseDist[268671] "dead at end of block" "insert auto destroy"
        val init_coerce_tmp[8585387]:BaseDist[268671] "dead at end of block" "temp"
        (8585389 '=' init_coerce_tmp[8585387](8585391 'cast' BaseDist[268671] nil[32]))
        (8585394 'move' distToFree[8585385] init_coerce_tmp[8585387])
        val domIsPrivatized[8585397]:bool[19] "dead at end of block" "insert auto destroy"
        (8585399 'move' domIsPrivatized[8585397] 0)
        const instanceDom[8585402]:BaseDom[269761] "dead at end of block" "const" "insert auto destroy"
        (8585404 'move' instanceDom[8585402] coerce_tmp[8585351])
        val coerce_tmp[8585407]:RootClass[236] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
        (8585409 'move' coerce_tmp[8585407](8585411 'cast' RootClass[236] coerce_tmp[8585351]))
        const-val call_tmp[8585414]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
        (8585416 'move' call_tmp[8585414](8585418 '!=' coerce_tmp[8585407] nil[32]))
        if call_tmp[8585414]
        {
          val tmp_x0[9005969]:BaseDom[269761] "temp"
          val tmp_x1[9005971]:BaseDist[268671] "temp"
          const-val ret_tmp[8585425]:(unmanaged BaseDom?,unmanaged BaseDist?)[2123667] "temp"
          (8585428 call remove[268987] domToRemove[8585349] ret_tmp[8585425])
          (9005977 'move' tmp_x0[9005969](9005975 '.v' ret_tmp[8585425] x0[2123663]))
          (9005982 'move' tmp_x1[9005971](9005980 '.v' ret_tmp[8585425] x1[2123665]))
          val coerce_tmp[8585434]:BaseDom[269761] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
          (8585436 'move' coerce_tmp[8585434] tmp_x0[9005969])
          (8585441 '=' domToFree[8585361] coerce_tmp[8585434])
          val coerce_tmp[8585444]:BaseDist[268671] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
          (8585446 'move' coerce_tmp[8585444] tmp_x1[9005971])
          (8585451 '=' distToRemove[8585373] coerce_tmp[8585444])
          (8585454 '=' domIsPrivatized[8585397] 0)
        }
        val distIsPrivatized[8585458]:bool[19] "dead at end of block" "insert auto destroy"
        (8585460 'move' distIsPrivatized[8585458] 0)
        val coerce_tmp[8585463]:RootClass[236] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
        (8585465 'move' coerce_tmp[8585463](8585467 'cast' RootClass[236] distToRemove[8585373]))
        const-val call_tmp[8585470]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
        (8585472 'move' call_tmp[8585470](8585474 '!=' coerce_tmp[8585463] nil[32]))
        if call_tmp[8585470]
        {
          val call_tmp[8585479]:BaseDist[268671] "dead after last mention" "expr temp" "maybe param" "temp"
          (8585481 'move' call_tmp[8585479](8585484 call remove[268286] distToRemove[8585373]))
          (8585486 '=' distToFree[8585385] call_tmp[8585479])
          (8585489 '=' distIsPrivatized[8585458] 0)
        }
        val coerce_tmp[8585493]:RootClass[236] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
        (8585495 'move' coerce_tmp[8585493](8585497 'cast' RootClass[236] arrToFree[8585337]))
        const-val call_tmp[8585500]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
        (8585502 'move' call_tmp[8585500](8585504 '!=' coerce_tmp[8585493] nil[32]))
        if call_tmp[8585500]
        {
          (8585510 call _delete_arr[2124577] call_tmp[919441] inlineImm[8585307])
        }
        val coerce_tmp[8585514]:RootClass[236] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
        (8585516 'move' coerce_tmp[8585514](8585518 'cast' RootClass[236] domToFree[8585361]))
        const-val call_tmp[8585521]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
        (8585523 'move' call_tmp[8585521](8585525 '!=' coerce_tmp[8585514] nil[32]))
        if call_tmp[8585521]
        {
          val coerce_tmp[8585530]:RootClass[236] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
          (8585532 'move' coerce_tmp[8585530](8585534 'cast' RootClass[236] instanceDom[8585402]))
          const-val call_tmp[8585537]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
          (8585539 'move' call_tmp[8585537](8585541 '==' coerce_tmp[8585530] nil[32]))
          if call_tmp[8585537]
          {
            (8585547 call nilCheckHalt[392] "argument to ! is nil")
          }
          (8585551 call _delete_dom[2125727] instanceDom[8585402] domIsPrivatized[8585397])
        }
        val coerce_tmp[8585555]:RootClass[236] "dead after last mention" "coerce temp" "insert auto destroy" "temp"
        (8585557 'move' coerce_tmp[8585555](8585559 'cast' RootClass[236] distToFree[8585385]))
        const-val call_tmp[8585562]:bool[19] "dead after last mention" "expr temp" "maybe param" "temp"
        (8585564 'move' call_tmp[8585562](8585566 '!=' coerce_tmp[8585555] nil[32]))
        if call_tmp[8585562]
        {
          (8585572 call _delete_dist[273140] distToFree[8585385] distIsPrivatized[8585458])
        }
      }
      {
      }
    }
    (629017 return _void[46])
  }
}